#!/bin/sh

COPYRIGHT="
Copyright (C) 2012-2014 A. Gordon (assafgordon@gmail.com)
License: GPLv3+
"

##
## Helper script to automatically view a tabular file
## with properly tabulated fields.
## See "detect_tab_stops --help" for details.
##

usage()
{
	BASE=$(basename $0)
	echo "
dudirs - Friendly directory disk usage report
Version: @VERSION@
$COPYRIGHT
Usage:
  $BASE
  $BASE [DIRECTORY]

Will print a sorted list of disk-usage per directory,
either in the current directory or in the specified directory.

Notes:
1. Does not traverse mounted file-systems.
2. Accepts optional '--apparent-size' (see 'du --help' for details).

Equivalent to:
  du --max-depth=1 --one-file-system --human

"
    exit
}

test "x$1" = "x-h" || test "x$1" = "x--help" && usage

du --max-depth=1 --one-file-system  --human "$@" | sort -k1h,1
